#!/usr/bin/env ruby

require 'pomodoro'
require 'pomodoro/commands'

using RR::ColouredTerminal

commander = Pomodoro::Commander.new
command_name = ARGV.first && ARGV.first.to_sym

if commander.commands.include?(command_name)
  commander.run(command_name, ARGV[1..-1] || Array.new)
elsif [:'-h', :'--help'].include?(command_name)
  puts(commander.help)
else
  abort(commander.help)
end
