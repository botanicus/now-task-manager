#compdef now
_now() {
  local -a commands
  commands=(
    'active:Print the active task. Exit 1 if there is none.'
    'next:Display the next task.'
    'start:[32mStart[0m the next task.'
    'done:[32mComplete[0m the active task.'
    'move_on:Move on from the current task.'
    'postpone:[33mPostpone[0m the current task.'
    'fail-next:[31mFail[0m the next command.'
    'postpone-next:[33mPostpone[0m the next task.'
    'tick-off-next:[32mComplete[0m the next task.'
    'e:Open one of the files for edit.'
    'g:Generate today list for today or tomorrow.'
    '+:Add a task for later.'
    'config:Print out [35mconfiguration[0m.'
    'commit:Commit the active task.'
    'report:End of the day [35mreport[0m.'
    'console:Run Ruby console.'
    'show-schedule:Print out the [35mschedule[0m.'
    'plan:Plan given time period.'
    'test:Run the acceptance tests for given period.'
    'review:Review given time period.'
    'run:[32mRun[0m the next task.'
  )

  if (( CURRENT == 2 )); then
    _describe -t commands 'commands' commands
  fi

  return 0
}

_now
